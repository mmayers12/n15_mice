# Mouse microbiome quantification via N15 labeling (SILAM)

This repo contains the analysis pipeline for this study.

## Repo Overiew

### ipynbs

Notebooks containing the current results of data analysis.  These contain
the figures and plots related to this study.

### scripts

Contains scripts used in data analysis pipeline.  Primaryly writen in Python3,
most are borrowed from the [Metaprotemics package](https://bitbucket.org/sulab/metaproteomics)
to which I also contriubte.

### bin

Collection of useful bash 1-liners for moving data around, starting various
anaoysis piplnes and performing basic operations (e.g. in-place text replacement).

## Sample Information Overview

Samples were generated by extracting proteome from mouse fecal samples.
Microbiome metaproteome was mixed 1:1 heavy to light (N15:N14).
Samples were analyzed via LC/MS/MS on an Thermo LTQ Orbitrap XL
via 11 step MudPIT.  MS1 and MS2 files were extracted via rawXtract
and searched with [blazmass against the ComPIL MGM database](https://github.com/sandipchatterjee/blazmass_compil)
on the Scripps HPC garibaldi.  Search results were filterd via DTASelect
to a 0.01 FDR at the protein level.  For the purposes of this repo,
raw data files are missing, but they are to be placed in a top-level
folder data to perform the analysis contained here.

### Samples

**N14** - RAG1 KO/Tcell Transfer Mice:  These mice develop symptoms of
inflammatory bowel disease (IBD) within weeks of Tcell transfer.

**N15** - RAG1 KO Mice: These mice have no immune cells, but are otherwise
healthy in labratory conditions.

### LC run

11-Step MudPIT

### Data extraction and upload

Data extracted with [rawXtract v1.9.9.2](http://www.scripps.edu/yates/?page_id=17) 
using the data-dependant option into .ms1 and .ms2 files. Files were uploaded to
the Scripps HPC Garibaldi for search.

### Search

Search queueing was handeled by the [Metaprotemics package](https://bitbucket.org/sulab/metaproteomics)
written by Su lab for both handling submission of search jobs on the HPC cluster
and downstream analysis.  Several scripts in the scripts/ directory are borrowed
from this package.

### Filtering

Search results were filtered with [DTASelect 2.0](http://www.scripps.edu/yates/?page_id=17)
using the following options:

- `trypstat` - use cleavage status when calculating probabilities
- `modstat` - Use separate models for modified peptides
- `y 2` - Include only fully cleaved peptides
- `DM 10` - Set highest delta mass at 10ppm
- `pfp 0.01` - protein filtered to a 1% FDR
- `p 2` - require a minimum of 2 peptides per protein identified
